# 기업 분석 AI 시스템 - 요구사항 정의서

## 📋 문서 정보

| 항목 | 내용 |
|------|------|
| 프로젝트명 | 기업 분석 AI 시스템 |
| 문서 버전 | 1.0 |
| 작성일 | 2024년 |
| 작성자 | 개발팀 |

## 🎯 프로젝트 개요

### 1.1 프로젝트 목적
- DART 공시자료와 네이버 증권사 리포트를 통합하여 AI 기반 기업 분석 서비스 제공
- 투자자와 분석가를 위한 종합적이고 객관적인 기업 정보 분석 도구 개발
- 최신 LLM 기술을 활용한 지능형 문서 분석 및 보고서 생성

### 1.2 프로젝트 범위
- **포함 범위**: DART API, 네이버 금융 크롤링, AI 분석, 웹 인터페이스
- **제외 범위**: 실시간 주가 데이터, 해외 증권사 리포트, 모바일 앱

## 🔧 기능 요구사항

### 2.1 핵심 기능

#### 2.1.1 기업 정보 조회
- **기능명**: 기업명으로 고유번호 및 기본 정보 조회
- **입력**: 기업명 (예: "KT", "삼성전자")
- **출력**: 고유번호, 정식 회사명, 종목코드
- **비즈니스 규칙**:
  - LLM을 활용한 회사명 변형 검색 지원
  - 정확한 매칭 우선, 유사 매칭 보조
  - 종목코드가 있는 회사 우선 선택

#### 2.1.2 보고서 수집 및 분석
- **기능명**: 다중 소스 보고서 수집 및 AI 분석
- **입력**: 회사명, 사용자 질문
- **출력**: 종합 분석 보고서 (Markdown 형식)
- **비즈니스 규칙**:
  - DART 공시자료: 사업보고서, 반기보고서, 분기보고서 등
  - 네이버 증권사 리포트: 종목분석, 산업분석
  - 사용자 질문 기반 적절한 보고서 타입 자동 선택
  - 최근 3년간 데이터 기본 수집 (사용자 질문에 따라 조정)

#### 2.1.3 AI 기반 분석
- **기능명**: Gemini AI와 Midm AI를 활용한 지능형 분석
- **입력**: 수집된 보고서 데이터, 사용자 질문
- **출력**: 구조화된 분석 보고서
- **비즈니스 규칙**:
  - RAG(Retrieval-Augmented Generation) 방식 적용
  - 작업 유형별 최적 AI 모델 자동 선택
  - 한국어 특화 프롬프트 템플릿 사용

### 2.2 데이터 관리 기능

#### 2.2.1 벡터 데이터베이스 관리
- **기능명**: FAISS 기반 벡터DB로 보고서 저장 및 검색
- **입력**: 보고서 텍스트 데이터
- **출력**: 벡터 임베딩 및 메타데이터
- **비즈니스 규칙**:
  - 한국어 특화 임베딩 모델 사용
  - 청크 단위로 문서 분할 (1000자, 200자 오버랩)
  - 중복 다운로드 방지를 위한 캐싱 시스템

#### 2.2.2 캐싱 시스템
- **기능명**: 다운로드 파일 및 분석 결과 캐싱
- **입력**: 보고서 접수번호, 분석 결과
- **출력**: 캐시된 데이터
- **비즈니스 규칙**:
  - VectorDB 우선 검색 후 API 호출
  - 최신 5개 파일만 로컬 보관
  - 메타데이터 기반 중복 검사

### 2.3 사용자 인터페이스 기능

#### 2.3.1 웹 인터페이스
- **기능명**: 반응형 웹 기반 사용자 인터페이스
- **입력**: 사용자 입력 (회사명, 질문)
- **출력**: 분석 결과 표시
- **비즈니스 규칙**:
  - KT 브랜딩 적용
  - 실시간 진행상황 표시
  - 직관적이고 사용하기 쉬운 UI

#### 2.3.2 실시간 모니터링
- **기능명**: 시스템 아키텍처 다이어그램으로 진행상황 시각화
- **입력**: 분석 프로세스 상태
- **출력**: 시각적 진행상황 표시
- **비즈니스 규칙**:
  - Server-Sent Events로 실시간 업데이트
  - 각 컴포넌트별 상태 표시
  - 애니메이션 효과로 사용자 경험 향상

## 🏗️ 비기능 요구사항

### 3.1 성능 요구사항

#### 3.1.1 응답 시간
- **분석 시작 응답**: 3초 이내
- **진행상황 업데이트**: 1초 이내
- **전체 분석 완료**: 10분 이내 (일반적인 경우)

#### 3.1.2 처리량
- **동시 사용자**: 최대 10명
- **일일 분석 요청**: 최대 100건
- **벡터DB 검색**: 1초 이내

#### 3.1.3 리소스 사용량
- **메모리 사용량**: 최대 4GB
- **디스크 사용량**: 최대 10GB (벡터DB 포함)
- **CPU 사용률**: 평균 50% 이하

### 3.2 안정성 요구사항

#### 3.2.1 가용성
- **시스템 가동률**: 95% 이상
- **장애 복구 시간**: 5분 이내
- **데이터 백업**: 일일 자동 백업

#### 3.2.2 오류 처리
- **API 오류**: 적절한 에러 메시지 표시
- **AI 모델 오류**: 폴백 메커니즘 적용
- **네트워크 오류**: 재시도 로직 구현

### 3.3 보안 요구사항

#### 3.3.1 데이터 보안
- **API 키 관리**: 환경변수로 안전하게 저장
- **사용자 데이터**: 로컬 저장, 외부 전송 금지
- **로그 관리**: 민감 정보 마스킹

#### 3.3.2 접근 제어
- **인증**: 현재 미구현 (향후 확장)
- **권한 관리**: 현재 미구현 (향후 확장)

### 3.4 확장성 요구사항

#### 3.4.1 모듈화
- **컴포넌트 독립성**: 각 모듈 독립적 개발/배포 가능
- **API 설계**: RESTful API 원칙 준수
- **설정 관리**: 중앙화된 설정 관리

#### 3.4.2 확장 가능성
- **새로운 AI 모델**: Provider 패턴으로 쉽게 추가
- **새로운 데이터 소스**: 인터페이스 기반 확장
- **새로운 출력 형식**: 템플릿 기반 확장

## 📊 데이터 요구사항

### 4.1 입력 데이터

#### 4.1.1 사용자 입력
- **회사명**: 문자열, 최대 100자
- **분석 질문**: 문자열, 최대 1000자
- **선택적 파라미터**: 검색 기간, 보고서 타입

#### 4.1.2 외부 데이터 소스
- **DART API**: 공시자료 (XML 형식)
- **네이버 금융**: 증권사 리포트 (PDF 형식)
- **기업 고유번호**: XML 형식

### 4.2 출력 데이터

#### 4.2.1 분석 결과
- **형식**: Markdown 텍스트
- **구조**: 제목, 요약, 상세분석, 결론, 참고자료
- **크기**: 최대 50,000자

#### 4.2.2 메타데이터
- **보고서 정보**: 제목, 날짜, 출처, 크기
- **분석 정보**: 사용된 AI 모델, 처리 시간
- **통계 정보**: 벡터DB 통계, 캐시 히트율

### 4.3 데이터 저장

#### 4.3.1 벡터 데이터베이스
- **형식**: FAISS 인덱스
- **위치**: 로컬 파일시스템
- **백업**: 일일 자동 백업

#### 4.3.2 메타데이터
- **형식**: JSON
- **위치**: 로컬 파일시스템
- **동기화**: 벡터DB와 실시간 동기화

## 🔧 기술 요구사항

### 5.1 개발 환경

#### 5.1.1 프로그래밍 언어
- **Python**: 3.8 이상
- **JavaScript**: ES6 이상
- **HTML/CSS**: HTML5, CSS3

#### 5.1.2 프레임워크 및 라이브러리
- **Backend**: Flask 3.0+
- **AI/ML**: LangChain, Google Generative AI
- **데이터베이스**: FAISS, Sentence Transformers
- **웹 스크래핑**: BeautifulSoup, Requests

#### 5.1.3 외부 서비스
- **AI 서비스**: Google Gemini AI, Friendli AI (Midm)
- **데이터 API**: DART API
- **웹 크롤링**: 네이버 금융

### 5.2 운영 환경

#### 5.2.1 서버 요구사항
- **OS**: Windows 10/11, Linux
- **메모리**: 최소 8GB, 권장 16GB
- **저장공간**: 최소 20GB
- **네트워크**: 인터넷 연결 필수

#### 5.2.2 의존성 관리
- **패키지 관리**: pip, requirements.txt
- **가상환경**: venv 또는 conda
- **버전 관리**: Git

## 📋 제약사항

### 6.1 기술적 제약사항

#### 6.1.1 API 제한
- **DART API**: 일일 요청 한도 (공식 제한에 따름)
- **Gemini API**: 무료 티어 제한 (일일 15회)
- **네이버 크롤링**: robots.txt 준수

#### 6.1.2 성능 제약
- **메모리 제한**: 대용량 문서 처리 시 메모리 사용량 증가
- **처리 시간**: AI 분석 시간이 상당함 (5-10분)
- **동시 처리**: 단일 사용자만 처리 가능

### 6.2 비즈니스 제약사항

#### 6.2.1 데이터 사용
- **저작권**: 공개 데이터만 사용
- **개인정보**: 개인정보 수집/저장 금지
- **상업적 사용**: 교육/연구 목적으로만 사용

#### 6.2.2 법적 제약
- **웹 크롤링**: robots.txt 및 이용약관 준수
- **데이터 보관**: 개인정보보호법 준수
- **API 사용**: 각 서비스 이용약관 준수

## 🎯 성공 기준

### 7.1 기능적 성공 기준
- **정확도**: 기업 정보 조회 정확도 95% 이상
- **완성도**: 분석 보고서 생성 성공률 90% 이상
- **사용성**: 사용자 만족도 4.0/5.0 이상

### 7.2 비기능적 성공 기준
- **성능**: 평균 분석 시간 10분 이내
- **안정성**: 시스템 오류율 5% 이하
- **확장성**: 새로운 AI 모델 추가 시간 1일 이내

### 7.3 사용자 경험 성공 기준
- **직관성**: 사용법 학습 시간 10분 이내
- **반응성**: 실시간 피드백 제공
- **만족도**: 사용자 재사용률 70% 이상

## 📝 부록

### A. 용어 정의
- **DART**: 금융감독원 전자공시 시스템
- **RAG**: Retrieval-Augmented Generation
- **LLM**: Large Language Model
- **VectorDB**: 벡터 데이터베이스
- **FAISS**: Facebook AI Similarity Search

### B. 참고 자료
- DART API 문서: https://opendart.fss.or.kr/
- Google Gemini AI 문서: https://ai.google.dev/
- LangChain 문서: https://python.langchain.com/
- FAISS 문서: https://faiss.ai/

### C. 변경 이력
| 버전 | 날짜 | 변경 내용 | 작성자 |
|------|------|-----------|--------|
| 1.0 | 2024년 | 초기 요구사항 정의서 작성 | 개발팀 |
